## 1. Cytime

1. 气缸压力的稳定性
2. 真空度稳定性

波动较大会报警


## 2. Camera

工业界中的 `camera_check` 数据（通常指相机性能或状态检查日志）主要用于记录**相机采集图像的性能指标和状态信息**，核心目的是**监控系统的稳定性、性能和排查问题**。

这些数据记录了以下关键信息：

1.  **`时间`：**
    *   表示**检查操作触发的时间点**（或相机尝试采集的时间戳）。
    *   格式 `2025/06/25 13:40:07:147` 通常包含日期、时、分、秒、毫秒，精确到毫秒级，用于精确定位事件发生时刻。

2.  **`采集时间`：**
    *   表示**相机完成本次图像采集（或者说处理完这次“检查”）所需的时间**。
    *   单位是毫秒 `ms`。
    *   **核心意义：**
        *   **性能指标：** 直接衡量相机或相关软件/硬件（如图像采集卡、处理器）处理一次采集请求的效率。
        *   **稳定性监控：** 稳定的采集时间是系统正常运行的关键。过大或波动剧烈的采集时间往往是问题的征兆。
        *   **问题诊断：** 当出现生产流程卡顿、图像丢失、系统超时等故障时，这些数据是首要的排查线索。

### 2.1 数据情况
*   **基准水平：** 大部分采集时间在 **27ms 到 77ms** 之间（例如 27ms, 32ms, 35ms, 40ms, 44ms, 56ms, 60ms, 70ms, 77ms）。这说明在通常情况下，系统的采集性能在这个范围内。
*   **性能波动：** 存在几个明显更高的采集时间点
*   **潜在问题：** 这些 **高于基准值（甚至翻倍）** 的采集时间点需要重点关注。引起这种高延迟的可能原因包括：
    *   **硬件资源瓶颈：** CPU占用率突然飙升、内存不足、图像采集卡或相机本身工作异常（如温度过高）。
    *   **软件问题：** 图像处理算法阻塞、驱动程序问题、其他后台进程抢占资源。
    *   **网络问题（如果是网络相机）：** 网络拥塞、延迟增大。
    *   **触发问题：** 硬触发信号延迟或软件触发命令延迟。
    *   **光照条件剧烈变化：** 导致自动曝光或自动增益调整需要更长时间收敛。
    *   **场景复杂度增加：** 拍摄的目标物突然变得非常复杂或与背景对比度很低，导致处理耗时增加（如果“采集时间”包含了基础处理）。
    *   **IO阻塞：** 系统存储设备（硬盘/SSD）繁忙，导致保存图像或日志变慢（如果采集时间包含了保存操作）。
*   **采集间隔：** 记录的时间戳间隔并不完全均匀（有时1秒内多次，如 13:40:15附近；有时间隔好几秒，如13:40:19到13:40:28），这需要结合系统的工作模式（连续采集、按触发采集）来分析是否正常。如果是触发模式，间隔的变化可能与触发信号的频率有关。记录触发成功时间本身对于诊断未触发事件也非常关键。

### 2.2 数据用途
1.  **性能基线建立：** 了解系统在正常状态下的典型采集耗时。
2.  **实时监控：** 在生产过程中实时监控采集时间，设置阈值报警（如超过100ms报警）。
3.  **故障诊断：** 当出现图像丢失、超时报警、生产节拍下降等问题时，检查对应时间点的 `camera_check` 数据，寻找高延迟或其他异常模式（如频繁的高延迟、连续采集失败等），锁定问题发生的时间点和可能的根源。
4.  **系统优化：** 分析高延迟发生的规律和潜在原因，针对性地进行硬件升级、软件优化（算法优化、参数调整）、环境改善或触发逻辑优化。
5.  **趋势分析：** 长期跟踪采集时间的变化趋势，可以预判硬件老化或软件性能衰退问题。

**简单说：`camera_check` 日志的核心是记录“相机每次完成拍照动作花了多久”，是保证视觉系统稳定运行、快速定位性能问题的重要工具。** 你提供的数据中出现的几个 >120ms 的点，是后续需要重点分析的对象。建议结合这个日志文件和系统中其他相关日志（如CPU/内存监控、应用程序日志、PLC/设备触发信号日志）进行交叉分析，以精确定位问题原因。


## 3 LightControl

### 3.1 数据情况

每一行记录代表灯光控制系统执行了一次操作（开/关/调光）。各列含义如下：

1.  **时间 (Time):** 操作发生的时间戳。格式是 `年/月/日 时:分:秒:毫秒`。精确到毫秒非常重要，用于分析操作时序和间隔。
2.  **通道 (Channel):** 控制信号输出的物理端口或逻辑通道编号 (1, 2, 3, 4, 5, 6)。代表控制哪一路灯光设备。
3.  **亮度 (Brightness):** 在该次操作后，该通道设定的灯光亮度值。
    *   `0`: 表示完全关闭灯光。
    *   `255`: 通常表示亮度最大值（全开）。
    *   `60, 90`: 表示设置了一个中间亮度值。这可能是调光效果的一部分。
4.  **设置时间 (Set Time):** 控制系统执行该条指令所消耗的时间（单位毫秒，ms）。这通常反映了命令从发出到确认完成的时间，可以衡量控制系统的响应效率。

**核心解读：**
*   每次操作 **改变** 一个 **特定通道** 的 **亮度** 到指定的值，并记录下执行该操作的 **精确时间** 和命令本身的 **执行耗时**。

### 3.2 分析数据

分析可以围绕以下几个方面进行：

1.  **通道行为分析 (每个通道的操作序列)：**
    *   **过滤数据：** 按通道号分组（例如，只看通道2的所有记录）。
    *   **识别开关/调光序列：** 观察亮度值的变化序列。例如：
        *   通道2： `255 -> 0 -> 255 -> 0 -> ...` (快速开关)
        *   通道3： `90 -> 0` (仅有一次调光到90后关闭) -> `255 -> 0` (标准开关)
        *   通道6： `255 -> 0 -> 255 -> 0` (两轮快速开关)
        *   通道1： `255 -> 0` (单次开关)
        *   通道4： `255 -> 0 -> 255 -> 0` (两轮快速开关)
    *   **计算操作间隔：** 计算同一通道两次操作之间的时间差（毫秒）。这揭示操作频率和响应速度。
        *   例 (通道2)： 08:23:59:539 (`0`) 到 08:24:00:273 (`255`) 间隔： 734ms。
        *   例 (通道4)： 08:24:08:665 (`0`) 到 08:24:08:815 (`255`) 间隔： 150ms。
    *   **统计操作频率：** 统计特定时间段内某个通道的操作次数（开关次数、调光次数）。

2.  **时间分布分析 (整体或各通道)：**
    *   **绘制时间线：** 想象或绘制出所有通道操作沿时间线的分布图。可以看出操作是否集中（如开始几分钟内高密度操作）、是否有周期性等。
    *   **分析爆发操作：** 例如 08:24:00 前后约1秒内，通道2、3、6有密集操作；08:24:06 - 08:24:07也是一个小高峰；08:24:08又是一个高峰（通道1和4）。分析这些“脉冲”是否正常（如启动程序、场景切换）或异常（如设备抖动）。

3.  **设置时间分析 (系统响应)：**
    *   **观察值：** 所有记录的“设置时间”都在 `23ms` 或 `24ms`，非常稳定且迅速。
    *   **评估：** 这通常表示 **控制系统的通信和处理效率非常高且一致**。没有发现延迟激增或执行失败的迹象（例如设置时间过长或失败标记）。

4.  **异常点识别：**
    *   **异常亮度值：**
        *   `255` 和 `0` 是标准的开关值。
        *   `90` 是唯一一个非0/255的值（通道3在2025/06/28 08:24:00:242）。这通常 **不是异常**，除非业务逻辑严格要求该通道只能开关不允许调光。如果这是一个开关通道，那么`90`可能表示调光指令或传感器问题。
    *   **通道状态异常：**
        *   **开启未关闭：** 检查是否有通道在最后一条记录之后还保持 `255` 而未设置到 `0`。在提供的数据末尾，所有通道最后状态都是 `0` (关闭)，没有残留开启状态。
        *   **连续开启/关闭：** 检查是否在同一通道上连续发出两次相同亮度值的命令（如两个连续的 `255`）。数据中没发现这种情况。
        *   **指令缺失：** 检查是否有预期应该出现的操作（如启动序列中的某个开灯指令）在记录中缺失？这需要结合控制程序逻辑判断。
    *   **异常时间间隔：**
        *   **极短间隔 (<20ms)：** 数据中最短的操作间隔（不同通道间）有时小于10ms (如 08:24:08:529 关通道1 和 08:24:08:559 开通道4，间隔30ms)。需要看控制系统规格是否能承受如此高密度的连续指令（不同通道）。同一通道内最短间隔 (如通道4的两轮开关间隔 150ms) 可能符合设计要求（快速闪烁）。
        *   **极长间隔：** 例如通道2在08:24:00:373关闭后，直到08:24:06:305才再次开启，间隔5.9秒。这本身不是异常，但需要结合上下文判断是否符合预期行为（如长时间闲置）。
    *   **重叠操作：**
        *   **不同通道同时控制：** 数据中有非常多接近同时发生的操作（毫秒级差异）。虽然物理上可能由同一个控制器处理多个通道，但密集操作可能对控制器造成负载。不过由于“设置时间”非常稳定且短，没有明显负面影响。需关注是否有逻辑冲突（如不同通道不允许同时亮，而数据中通道2和3在08:24:00:242 - 08:24:00:273有短暂重叠）。
    *   **设置时间异常：**
        *   数据中所有设置的执行时间均异常稳定(23/24ms)， **未发现** 明显的设置时间过长 (例如超过100ms) 或不一致（例如大部分23ms，突然一条变成100ms）等异常情况。设置时间稳定是系统健康的表现。

### 3.3 初步结论

1.  **总体系统性能良好：** 命令执行时间 (`设置时间`) 稳定且短，显示控制系统响应快速可靠。
2.  **通道操作模式：**
    *   通道2、4、6： 观察到快速开关/闪烁行为 (包含两轮开关)。
    *   通道1： 单次开关。
    *   通道3： 混合行为：一次中间亮度调光 (`90`)后关闭，一次标准开关 (`255->0`)。
3.  **操作密集期：** 存在明显的操作高峰 (08:24:00附近, 08:24:06-07, 08:24:08)。这些高峰通常是系统执行特定任务（如测试序列、场景切换、响应触发）的表现。
4.  **潜在关注点（非绝对异常）：**
    *   **通道3的`90`亮度：** 需要确认这是预期的调光操作还是意外的亮度未达到最高或最低。结合业务逻辑判断其是否正常。
    *   **高并发操作负载：** 高峰时段多个通道在极短时间内被频繁控制，虽然当前系统响应 (`设置时间`) 无问题，但需持续监控系统负载（CPU、内存、总线流量），确保在更复杂任务或长时间运行下依然稳定。
    *   **操作逻辑合理性：** 检查不同通道操作间是否有逻辑冲突（如通道2和3在08:24:00短暂重叠，通道4两轮开关的紧凑性）。需要对照控制程序的逻辑设计文档来判断这些重叠和紧凑性是否允许或正常。

### 3.4 深入分析

1.  **关联业务逻辑/控制程序：** 没有程序逻辑，很难区分某个操作或序列是“正常”还是“异常”。需要知道控制系统预期在什么时间、什么条件下、发送什么样的命令到哪个通道。例如：
    *   08:24:00:242的通道3亮度`90`是程序设定的特定值吗？
    *   为什么在08:24:00秒附近有如此密集的快速开关？
    *   08:24:08的通道1和4操作是独立的触发还是属于同一个序列？
2.  **更长时间范围分析：** 这个数据片段很短（约10秒）。分析一天、一周甚至更长时间的数据，才能发现周期性模式、偶然性故障、长期性能趋势（如设置时间是否随系统负载增加而缓慢变长）。
3.  **统计与可视化：**
    *   **频率统计：** 统计各通道操作次数/小时、开关次数占比、调光占比。
    *   **间隔分布图：** 绘制各通道操作间隔的分布图（直方图），更容易发现异常的短间隔或长间隔。
    *   **时间线图：** 用甘特图等形式显示各通道的`开(255)`、`关(0)`、`调光`事件的时间线，直观展示操作分布和重叠情况。
    *   **设置时间趋势图：** 绘制设置时间随时间变化的曲线图，监控系统响应稳定性。
4.  **交叉关联其他日志：** 如果系统还有控制器状态日志、电源状态日志、环境传感器日志、用户操作日志等，将它们关联起来分析更容易找出异常原因（如某次异常控制是否发生在电压波动、温度过高、特定用户操作后）。

### 3.5 总结


1.  **理解每个字段的含义：** 精确时间、通道、目标亮度、执行耗时。
2.  **按通道梳理操作序列：** 看开关/调光的顺序和节奏。
3.  **分析时间间隔：** 包括通道内操作间隔和不同通道间的并发性。
4.  **关注稳定性指标：** `设置时间` 是非常关键的指标。
5.  **关注特殊值：** 非0/255的亮度值。
6.  **与预期业务逻辑对照：** 所有异常的判断最终都要回到“程序本意是什么”。


## 下一步计划

1. 细致分析时序数据与异常间是否有关系
    - 减少现有异常
    - 发现未预警异常（需了解业务）
2. 打螺丝数据细分，查找相关性





补偿加错，导致批量不良，需要实时监控，组装时就应监测出来，组装点位，组装立直
视觉图像，输出像素点，基于图片输出点位之类的
组装图片的信息
分析材料来自于哪里弯曲，数据追溯，确定问题来源（厂商来源）

报警信息梳理
照片亮度

1. 数据字段含义，数据来源，业务相关性。
    - 数据字段含义，对应业务详情
        - 轴数据
        - 相机数据，作用是什么？对什么会产生影响？采样间隔及数据变化表征
        - 气缸数据的采样间隔是否满足现有分析
        - 报警日志的详细拆解，是否包含所有类别，如何定义这些类别，业务影响
        - 灯光控制数据，不同通道含义，不同数值含义
    - 报警数据与其他数据之间的关系，是否有固定驱动逻辑（业务流程）
        - 每一类数据与报警数据是否有关
        - 不同类数据间的关系
        - 不同时间是否有波动或波动范围
2. 是否存在现有异常但是未报警的情况（体现在报警日志中），影响时间周期，是否有数据
3. 明确目标，是要预警什么，提高良率的话目前的瓶颈，或者说如果需要挖掘瓶颈，需要了解一些生产情况及一些易出错的情况，想办法通过数字化手段避免